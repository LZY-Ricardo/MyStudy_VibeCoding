题目
 
请使用原生 JavaScript 模拟实现 Vue 中  v-if 、 v-else-if  和  v-show  指令的核心功能，来控制页面元素的显示与隐藏。
 
需要遵循以下规则：
 
-  v-if / v-else-if ：构成一个条件渲染“链”（if-else-if 链）。 v-if  是链的起点；若链中某个分支条件为  true ，该分支渲染，其它同链的后续  v-else-if  不再渲染（从 DOM 移除）。
-  v-else-if ：必须紧跟（紧跟基于相邻元素节点（忽略文本/注释节点））在一个已有的  v-if  或前一个  v-else-if  之后，且与之同属于同一个链。
-  v-show ：元素始终渲染在 DOM 中；当表达式为  false  时，设置  display: none  以隐藏。
 
代码实现：请补全下面 HTML 页面中  <script>  标签内的代码，以实现上述功能。补全后，页面上应该只显示  div1 、 div3 、 div5  的内容和一个  span  元素。
 
示例代码
 
html
  
<!DOCTYPE html>
<html>
<head>
  <style>
    div {
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <!-- Block 1 -->
  <div v-if="1 + 1 === 2" class="div1">“去哪儿”认识到在线旅游市场的用户需求已经逐渐变化...</div>
  <div v-else-if="1 + 1 === 2" class="div-else-if-after-true-if">这个 v-else-if 紧跟在一个 true 的 v-if 后面，所以它不应该显示。</div>

  <!-- Block 2 -->
  <div v-if="1 + 1 !== 2" class="div2">2012年12月，去哪儿顺利通过PCI认证...</div>
  <div v-else-if="1 + 2 === 3" class="div3">2024年8月，中国信息通信研究院发起的“卓信大数据计划”...</div>
  <div v-else-if="false" class="div4">2022年1月，去哪儿旅行App获得移动互联网应用程序（App）安全认证证书...</div>

  <!-- v-show elements -->
  <div v-show="true" class="div5">2023年6月21日，去哪儿平台数据出境申报获得国家网信办批准...</div>
  <div v-show="false" class="div6">“去哪儿”为旅游者提供国内外机票、酒店、会场、度假和签证服务的深度搜索...</div>

  <!-- non-directive element -->
  <span class="span1">“去哪儿”是通往中国旅游市场，以及接触广大在线旅游消费者的通行证...</span>

  <script>
    const rootElement = document.querySelector('body');
    const children = Array.from(rootElement.children);

    // 预处理：收集每个元素的 DOM 节点和指令信息（添加结构，不提前操作DOM）
    const elementInfos = children.map(element => ({
      element: element,
      directive: findDirective(element) // 待实现：识别元素的指令（v-if/v-else-if/v-show）
    }));

    let ifBlockMet = false; // 跟踪v-if链是否已有条件满足

    // 待补全：遍历静态结构，处理每个元素的指令逻辑
    for (let i = 0; i < elementInfos.length; i++) {
      const { element, directive } = elementInfos[i];

      if (!directive) {
        ifBlockMet = false;
        continue;
      }

      // 提取指令表达式并求值（待实现expressionFun函数）
      const directiveValue = element.getAttribute(directive);
      const result = expressionFun(directiveValue)();

      // 待补全：v-if逻辑
      if (directive === 'v-if') {
        // 补充v-if相关逻辑代码
      } 
      else if (directive === 'v-else-if') {
        const prevInfo = elementInfos[i - 1];
        const prevDirective = prevInfo ? prevInfo.directive : null;
        // 合法性校验：前序必须是v-if/v-else-if，且当前链未满足
        if (!/v-if|v-else-if/.test(prevDirective) || ifBlockMet) {
          element.parentNode.removeChild(element);
        }
        // 补充v-else-if相关逻辑代码
      }
      // 待补全：v-show逻辑
      else if (directive === 'v-show') {
        // 补充v-show相关逻辑代码
      }
    }

    /**
     * 待实现：判断元素是否包含v-if/v-else-if/v-show指令
     * @param {HTMLElement} element - DOM元素
     * @returns {string|undefined} 指令名称或undefined
     */
    function findDirective(element) {
      // 补全代码...
    }

    /**
     * 待实现：将表达式字符串转为可执行函数（返回布尔值）
     * @param {string} attrValue - 指令的表达式字符串（如"1+1===2"）
     * @returns {function} 执行表达式的函数
     */
    function expressionFun(attrValue) {
      // 补全代码...
    }
  </script>
</body>
</html>