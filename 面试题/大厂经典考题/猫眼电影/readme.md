面试官的问题主要围绕候选人项目经历、技术实现细节及基础知识点展开，具体如下：
1. 项目相关：
# 介绍项目中扣子工作流的具体步骤，从上传图片到前端收到搭配建议的环节。
运行过程讲解 讲上传一张图片 然后它经过的几个节点 发生了什么样的操作 每个节点的作用 以及它的输入输出
讲解为什么要做这个工作流 处于怎么样的考虑 它的优势所在 以及它的劣势所在 单独
 - 我在项目中想要开发一个 xxx 功能 这个功能灵活性比较高,逻辑复杂, 但同时流程比较集中, 所以我决定用工作流来完成, 同时我觉得随着ai的发展, 它能解决的问题会越来愈多, 它能替代的功能也越来越多, 甚至能替代整个项目的开发
 - 制定步骤的思路
    - 我先制定了一个工作流的框架, 然后根据这个框架, 我一步一步的实现了这个功能, 安排一个一个的节点让数据往着我需要的方向转变
    - 讲解每个节点的具体功能, 以及它的输入输出, 以及它的作用
    - 将工作流发布为 api 接口, 参考coze的api文档, 实现一个简单的接口, 接入我自己的项目当中去
# 前端与后端工作流服务的集成方式。
# AI任务进度的展示方式及状态实时更新手段（轮询还是其他）。
 - 进度条: 总步骤明确
 - 步骤列表:
    1. 上传中
    2. 图片处理中
    3. 模型分析中
    4. 文件生成中
    5. 完成
 - 剩余时间: 展示当前任务的剩余时间, 以及预计完成时间
    记录最近几个步骤的实现耗时, 计算平均速度, 预测剩余时间

- 轮询: 每隔一定时间就请求一次来获取当前的最新状态(造成太多无效请求, 浪费性能)
- webSocket: 前后端建立连接且不断开, coze 平台实时推送当前状态给前端
- SSE (server-sent Event): 基于 http 协议, 非常轻量级, 只需要前端建立一次连接, 后端每次有更新就发送一次事件, 前端收到事件后更新视图 一般适用于后端主动推送数据的场景 也是大模型返回数据的常见形式 不适用前端使用SSE做日常的请求 因为SSE仅支持http的get请求 而且不支持设置请求头就无法配置请求大模型的一些配置

● 流程中易出错的环节及前后端的错误处理、保护措施，包括错误时视图变化和重试机制。
 - ai给出的结果不符合预期 利用提示词优化器进行优化
 - debug 调试 断点
 - 调试工具 

 - 日志打印 服务端将错误写入文件
 - 错误提示 前端将错误提示给用户 状态码很重要 要根据状态码来判断错误类型


● 大图片上传的操作方式及压缩实现逻辑，是否考虑过文件分片上传。
关键就是 canvas的 toDataURL 方法 可以将图片压缩为 base64 格式的字符串

● 选择本地部署模型而非调用云端API的原因。
 - 隐私安全: 数据都保存在本地, 不会被上传到别人的服务器上
 - 性能优化: 本地部署模型的推理速度要快于调用云端API, 因为云端API的推理速度受限于网络延迟和服务器性能
 - 成本控制: 调用云端API需要支付一定的费用, 而本地部署模型的成本要低得多

● 支持多轮对话记忆功能的实现方式，及后端对对话的存储和上下文管理方式。
 - 多轮对话: 将每轮对话的上下文都存储起来, 每次请求都将之前的对话上下文都带上放在请求体的messages数组中 (token 消耗越来越大, 历史数据堆积会越来越多, 占有内存也会越来越大)
 - 上下文管理: 
   - 滑动窗口/剪枝: 后端会根据请求体的messages数组的长度来判断是否需要截断, 截断的策略是从前往后截断, 保留最新的对话上下文, 保留的token数量是固定的, 超过固定数量的token就会被截断 (保留最新的对话上下文, 因为最新的对话上下文更相关)
   - 关键记忆读取: 利用另一个 LLM 总结之前的冗长的对话上下文, 提取出其中的关键记忆, 作为下一轮对话的输入
   - 向量化记忆: 将历史对话转换为向量利用向量的相似性来进行分类, 将分类结果也就是向量相似的上下文对话存入数据库, 用户每次提问, 先去向量数据库中检索相关的片段, 将这个片段作为上下文而不是全部的历史对话

 - 历史对话的存储:
   - 存储在数据库中 (历史对话也就是上次或者上上次的对话上下文)
   - 存储在缓存中 Redis (Redis主要应用场景就是缓存, 用来存储活跃的对话也就是本次正在进行的对话的上下文) -- 读取速度快

 - 会话管理方式:
   - 每一次对话流程的创建, 都需要创建一个会话id, 用来标识这一次对话
   - 前端将会话id作为请求头的一个参数传给后端, 后端会根据会话id来判断这一次对话是属于哪一次对话流程, 从而确定要将这一次对话的上下文添加到哪一次对话流程中

2. 技术安全与功能相关：
● Markdown格式可能带来的安全性问题（如XSS攻击）及预防方法。
 - XSS 跨站脚本攻击
 - CSRF 跨站请求伪造

● 对话过程中是否支持停止或终止本次对话的功能。
 - 前端向后端发送一个终止请求
 - 后端收到请求后, 向大模型发送一个新的请求传递 signal 参数, 参数值为 abort
 - 大模型收到请求后, 会立即停止当前的任务, 返回一个错误信息

3. 低代码编辑器相关：
● 给每个组件设置DEV和PRO两个版本的原因。
● 用createElement实现从层级数据到组件递归渲染的介绍，及频繁更新单个组件属性时如何避免整个组件重新渲染。
4. React相关钩子函数：
● React中useMemo、useState、useEffect的区别。
● 解释闭包陷阱及让相关代码正常运行的修改方式。
5. 移动端适配相关：
● 简易日记项目中封装的移动端适配库的实现方式，及REM、EM、VW的区别，做移动端时是否遇到过边框EPS等适配问题。
 1px === 1物理像素
 1px === 2物理像素 两倍屏 ratio 2
 1px === 3物理像素 三倍屏 ratio 3
6. JavaScript基础：
● 关于this指向问题的代码输出结果及原因，严格模式下相关代码的输出结果。
● 用Promise实现红黄绿灯不断循环切换的功能。
7. HTML相关：
● A标签target属性的取值有哪些。
● doctype的作用。