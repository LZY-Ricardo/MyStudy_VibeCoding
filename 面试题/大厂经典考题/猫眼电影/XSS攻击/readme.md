# XSS (跨站脚本攻击 Cross site Scripting)
 - 同源策略无法极致的约束 web 端的安全, 页面上默认允许引入第三方资源, 又引入了 CSP 策略来限制 ajax 请求

 1. 窃取 cookie 信息, 传输给黑客服务器, 黑客就可以在其他电脑上登录用户的账号, 进行转账等危险操作
 2. 监听用户行为, 比如监听用户键盘事件, 窃取密码等敏感信息
 3. 伪造登录窗口, 欺骗用户输入账号密码, 登录其他网站
 4. 篡改页面内容, 比如修改页面标题, 添加广告, 篡改页面元素等
 5. 劫持用户会话, 比如用户登录了一个网站, 但是网站的登录会话被劫持, 那么用户就可以在其他网站上登录, 进行转账等危险操作

 - 恶意脚本是怎么注入的
 1. 存储型XSS攻击: 脚本存入服务器 (后端接收到前端传递的参数, 进行转码操作 &lt;script&gt; 后面返回给前端 浏览器会把符号转回去但会把标签当字符串), 然后服务器返回给前端, 前端渲染的时候, 就会执行脚本
 2. 反射型XSS攻击: 恶意链接后面已经拼好了参数是一个脚本, 当用户点击这个链接, 脚本传到服务端再返回到客户端执行脚本 (利用 CSP 策略, 限制页面上可以执行的脚本来源, 比如只允许从自己的域名加载脚本)
 3. DOM型XSS攻击: 劫持用户传输的信号, 修改 DOM 树, 导致页面发生变化

 - 如何防御
 1. 输入校验: 对用户输入的内容进行校验, 比如校验用户输入的内容是否包含脚本, 如果包含, 就进行转码操作
 2. 输出编码: 对用户输入的内容进行编码, 比如对用户输入的内容进行转码操作, 把 &lt;script&gt; 转成 &amp;lt;script&amp;gt;
 3. CSP 策略: 限制页面上可以执行的脚本来源, 比如只允许从自己的域名加载脚本
 4. HttpOnly 标志: 后端给 Cookie 加上 HttpOnly 标志, 限制脚本不能访问 Cookie, 防止 XSS 攻击窃取 Cookie 信息
 5. 内容安全策略: 限制页面上可以执行的脚本来源, 比如只允许从自己的域名加载脚本


# CSRF (跨站请求伪造 Cross Site Request Forgery)
 1. 自动发起 get / post 请求
 2. 利用用户登录状态, 发送恶意请求


 - 预防:
 1. 充分利用 cookie 的 SameSite 属性
 2. 验证请求来源