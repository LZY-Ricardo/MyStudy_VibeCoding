# HTTP/0.9
- 学术交流
- 超文本传输协议 用于传输类似于 html 文件资源 只能传输文本
- 客户端发送请求行信息 GET/index.html 
- 服务端读取对应的html文件 将内容以 ASCII 字符流的形式返回给客户端
- 客户端解析 ASCII 字符流 渲染成 html 页面
- 特点: 
    1. 只有请求行, 没有请求头 和 请求体
    2. 只有响应体, 没有响应头
    3. 返回的内容都是 ASCII 字符流

# HTTP/1.0
- 万维网发展迅速, 浏览器诞生, 页面要展示的内容不在局限于 html 资源, 还有 js, css, 图片, 视频, 音频 等
- 多种类型文件下载是 HTTP/1.0 的一个核心诉求, 编码方式不仅仅仅有 ASCII 编码, Base64 编码, 二进制编码等

- 面临问题:
    1. 浏览器要想办法知道服务端返回的资源是什么类型
    2. 浏览器要想办法知道服务端返回的资源使用的哪种手段压缩的
    3. 浏览器要能告诉服务端自己支持的语言版本

- 特点:
    1. 增加了请求头和响应头
        请求头: 
             accept: text/html
             accept-encoding: gzip, deflate
             accept-language: zh-CN,zh;q=0.9

        响应头: 
             content-encoding: br
             content-type: text/html; charset=utf-8

             status: 200 OK
             cache-control: max-age=86400

# HTTP/1.1
1. 持久化连接: 一个 TCP 连接中可以传输多个 HTTP 请求和响应, 减少了 TCP 频繁的建立和断开连接的性能开销
2. 浏览器对同一个域名, 默认允许同时建立6个 TCP 连接
3. 提供了虚拟机的支持 增加了host字段 表示当前的域名地址 
4. 引入了 cookie 机制

- 持久连接带来的问题:
    1. 队头阻塞: 如果队头的请求因为某种原因没有返回, 后面的请求就会阻塞在队头, 导致性能下降
      解决办法: 管线化 将多个http请求整批交给服务器的技术 但是服务器依然需要根据请求顺序来回复浏览器的请求

# HTTP/2.0
- 1.1 的问题: 带宽利用率低
    1. 队头阻塞
    2. TCP 的慢启动 (TCP 的网络拥塞策略 发送数据包的速度是一个由慢到快的过程)
    3. 同时允许建立了 6 个 TCP 持久连接: 相互竞争带宽 

- 多路复用: 
    1. 引入了二进制分帧层
    2. 将请求都处理成二进制帧 (碎片) 并携带编号 发送给服务端
    3. 服务端收到请求片段后, 根据编号将请求重新组合, 将响应行, 响应头, 响应体 传入二进制分帧层
    4. 客户端收到响应片段后, 根据编号将响应重新组合

- 服务端推送: 服务端可以在客户端请求之前, 主动推送资源到客户端

- 压缩: 
    1. 压缩请求头
    2. 压缩响应头
    3. 压缩响应体

# HTTPS === HTTP + SSL/TLS
- TLS提供了两种加密方式
    1. 对称加密
    2. 非对称加密

- 对称加密: 
    1. 客户端创建了一个加密方法和解密的密钥, 只要保证客户端和服务端都有该密钥, 就可以实现加密传输
- 非堆成密钥:
    1. 服务端创建了一个公钥和一个私钥
    2. 服务端将公钥发送给客户端
    3. 客户端用公钥加密 密钥, 发送给服务端
    4. 服务端用私钥解密, 得到密钥

# HTTP/3.0
- 2.0 剩余的问题都是TCP带来的, TCP 过于底层, 改动它的成本过大(TCP僵化)

- 3.0 打造新的底层协议: QUIC
    1. 基于 UDP 协议
    2. 多路复用
    3. 服务端推送
    4. 压缩
    5. 加密

- 3.0 推广缓慢: 设备更新慢 谁家电子设备没坏会去换新的